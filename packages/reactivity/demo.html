<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="app"></div>

<script src="demo.js"></script>

<script>
  import {reactive, effect } from 'Vue'
  const obj = {
    name: 'å‰ç«¯',
    num: 1,
    action: 'å­¦å‘€',
    emo: 'ğŸ˜­'
  }

  const data = reactive(obj)

  const app = document.getElementById('app')

  const myAction = computed(() => {
    data.action = ''
    for (let i = 0; i < data.num; i++) {
      data.action += `å­¦å‘€ `
    }
    return data.action
  })

  const myEmo = computed(() => {
    data.emo = ''
    for (let i = 0; i < data.num; i++) {
      data.emo += `ğŸ˜­ `
    }
    return data.emo
  })

  // effect() å®šä¹‰æˆ‘ä»¬çš„æ›´æ–°å‡½æ•°
  effect(() => {
    console.log(myAction)
    app.innerHTML = `<h1>${data.name}ä¸»æµæ¡†æ¶ç°æœ‰${data.num}ä¸ª</h1>
    <h2>æˆ‘ä»¬å°±è¦ä¸åœçš„${myAction.value}!</h2>
    <h3>${myEmo.value}</h3>`
  })

  // ä¿®æ”¹ä¸€ä¸‹æ•°å€¼
  const timerId = setInterval(() => {
    data.num++
    if (data.num > 8) clearInterval(timerId)
  }, 5000);
</script>

</body>
</html>